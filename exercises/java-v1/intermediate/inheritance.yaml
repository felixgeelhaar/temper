id: inheritance
title: Inheritance
description: |
  Learn about Java inheritance and method overriding.

  ## Learning Objectives
  - Extend a base class
  - Override methods
  - Use super keyword

  ## Instructions
  Create shape classes that extend a base Shape class.

difficulty: intermediate
tags:
  - oop
  - inheritance
  - polymorphism

prerequisites:
  - classes

starter:
  Shape.java: |
    public abstract class Shape {
        private String name;

        public Shape(String name) {
            this.name = name;
        }

        public String getName() { return name; }

        /** Returns the area of this shape. */
        public abstract double area();

        @Override
        public String toString() {
            return name + "(area=" + String.format("%.2f", area()) + ")";
        }
    }
  Circle.java: |
    public class Circle extends Shape {
        // TODO: Add radius field and implement constructor + area()

        public Circle(double radius) {
            super("Circle");
            // TODO: store radius
        }

        @Override
        public double area() {
            // TODO: Implement (pi * r^2)
            return 0.0;
        }
    }
  Rectangle.java: |
    public class Rectangle extends Shape {
        // TODO: Add width/height fields and implement constructor + area()

        public Rectangle(double width, double height) {
            super("Rectangle");
            // TODO: store dimensions
        }

        @Override
        public double area() {
            // TODO: Implement
            return 0.0;
        }
    }

tests:
  ShapeTest.java: |
    public class ShapeTest {
        static int passed = 0;
        static int failed = 0;

        static void assertEquals(Object expected, Object actual, String msg) {
            if (expected.equals(actual)) { passed++; System.out.println("PASS: " + msg); }
            else { failed++; System.out.println("FAIL: " + msg + " (expected=" + expected + ", actual=" + actual + ")"); }
        }

        static void assertClose(double expected, double actual, String msg) {
            if (Math.abs(expected - actual) < 0.01) { passed++; System.out.println("PASS: " + msg); }
            else { failed++; System.out.println("FAIL: " + msg + " (expected=" + expected + ", actual=" + actual + ")"); }
        }

        public static void main(String[] args) {
            Circle c = new Circle(5.0);
            assertClose(78.54, c.area(), "circle area");
            assertEquals("Circle", c.getName(), "circle name");

            Rectangle r = new Rectangle(4.0, 6.0);
            assertClose(24.0, r.area(), "rectangle area");
            assertEquals("Rectangle", r.getName(), "rectangle name");

            Shape s = new Circle(1.0);
            assertClose(3.14, s.area(), "polymorphic area");

            System.out.println("\n" + passed + " passed, " + failed + " failed");
            if (failed > 0) System.exit(1);
        }
    }

check_recipe:
  format: false
  build: true
  test: true
  test_flags: []
  timeout: 30

rubric:
  criteria:
    - id: correctness
      name: Correctness
      weight: 0.6
      signals: [all_tests_pass]
    - id: oop
      name: OOP Design
      weight: 0.4
      signals: [uses_inheritance, uses_override]

hints:
  L0:
    - "What is the formula for the area of a circle?"
  L1:
    - "Use Math.PI for the value of pi"
    - "Call super(\"Circle\") in the constructor"
  L2:
    - "return Math.PI * radius * radius for circle area"

solution:
  Shape.java: |
    public abstract class Shape {
        private String name;
        public Shape(String name) { this.name = name; }
        public String getName() { return name; }
        public abstract double area();
        @Override
        public String toString() {
            return name + "(area=" + String.format("%.2f", area()) + ")";
        }
    }
  Circle.java: |
    public class Circle extends Shape {
        private double radius;
        public Circle(double radius) {
            super("Circle");
            this.radius = radius;
        }
        @Override
        public double area() { return Math.PI * radius * radius; }
    }
  Rectangle.java: |
    public class Rectangle extends Shape {
        private double width;
        private double height;
        public Rectangle(double width, double height) {
            super("Rectangle");
            this.width = width;
            this.height = height;
        }
        @Override
        public double area() { return width * height; }
    }
